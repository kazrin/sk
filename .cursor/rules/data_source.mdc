# データソース仕様

## データファイル

- **ファイル**: `data/**/**.xlsx`
- **データ形式**: Excelファイル
- **データ範囲**: 3行目から開始（ヘッダーは3行目）

## カラム定義

以下のカラムは**医療機関番号に対して一意に紐づく**情報です：

- `項番`
- `都道府県コード`
- `都道府県名`
- `区分`
- `併設医療機関番号`
- `医療機関記号番号`
- `医療機関名称`
- `医療機関所在地（郵便番号）`
- `医療機関所在地（住所）`
- `電話番号`
- `FAX番号`
- `病床数`

### 重要な注意事項

1. **医療機関番号の一意性**: 上記のカラムはすべて、同じ`医療機関番号`を持つレコード間で同じ値を持ちます。

2. **届出情報との関係**: 
   - `受理届出名称`
   - `受理記号`
   - `受理番号`
   - `算定開始年月日`
   - `個別有効開始年月日`
   
   これらは医療機関ごとに複数存在する可能性があります（1医療機関が複数の届出を行う場合）。

3. **データ構造の理解**:
   - 1つの医療機関（医療機関番号）に対して、基本情報（名称、住所、電話番号など）は1つのみ
   - 1つの医療機関に対して、届出情報は複数存在する可能性がある
   - そのため、データは「医療機関番号 × 受理届出名称」の組み合わせで複数レコードに展開されている可能性がある

## データ処理時の注意

- 医療機関番号でグループ化する際は、基本情報カラムは`first()`や`unique()`を使用して集約可能
- 届出情報は`count()`や`list()`などで集約する必要がある場合がある
